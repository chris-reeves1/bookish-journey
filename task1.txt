setup:
    Install docker curl https://get.docker.com | sudo bash
    sudo usermod -aG docker jenkins
    sudo usermod -aG docker ubuntu
    sudo reboot

repo -  app.py
        Dockerfile
        Jenkinsfile
        reqs.txt
        nginx.conf
        Dockerfile.nginx

Jenkinsfile:
        - clean-up
        - set up stage (networks/volumes)
        - build images
        - run containers

jenkins job set up. 

Stretch:
    Scan the fs with Trivy and archive the artifacts. (SEE GUIDE)
    Run a unit test in the pipeline. 


unitTest unit you can use:

import requests
import unittest

class FlaskAppTests(unittest.TestCase):
    BASE_URL = "http://localhost:80"

    def test_home_page(self):
        response = requests.get(f"{self.BASE_URL}/")
        self.assertEqual(response.status_code, 200)
        self.assertIn("Hello", response.text)
        self.assertIn("I'm currently running in", response.text)


if __name__ == "__main__":
    unittest.main()